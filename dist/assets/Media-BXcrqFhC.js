import{d as Y,x as E,r as _,q as K,c as n,a as d,b as a,w as g,e,u as l,g as W,k as w,S as k,f as M,j as C,v as J,F as x,m as v,t as r,l as S,y as p,i as L}from"./app-Bpr-Z9gF.js";import{I as z,_ as Q}from"./AdminLayout.vue_vue_type_script_setup_true_lang-m5ecvjGb.js";import{c as b}from"./createLucideIcon-DzPYAFwf.js";import{V as T}from"./video-8ukofRfL.js";import{S as B}from"./star-BURztfmn.js";import"./ThemeToggle.vue_vue_type_script_setup_true_lang-CmW87lcJ.js";import"./settings-D0KQ1_ge.js";import"./x-FtVuPjhG.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=b("Grid3x3Icon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=b("ListIcon",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=b("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=b("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=b("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ee={class:"max-w-7xl mx-auto"},te={class:"mb-8"},se={class:"flex items-center justify-between"},le={class:"bg-white rounded-lg shadow mb-6"},oe={class:"p-6"},ae={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},re={class:"relative"},ie=["value"],ne=["value"],de=["value"],ce={class:"flex items-center justify-between mb-6"},ue={class:"flex items-center space-x-4"},pe={class:"text-sm text-gray-600"},he={key:0,class:"flex items-center space-x-2"},ge={class:"text-sm text-gray-600"},xe={class:"flex items-center space-x-2"},fe={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},ye={class:"relative aspect-square bg-gray-100"},me=["src","alt"],ve={key:1,class:"w-full h-full flex items-center justify-center relative"},be=["src"],_e=["src"],we={class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20"},ke={class:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center opacity-0 hover:opacity-100"},Me={class:"flex items-center space-x-2"},Ce=["onClick"],je=["onClick"],Se={key:2,class:"absolute top-2 left-2 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium"},ze={class:"absolute top-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded-full text-xs font-medium"},Ve={class:"p-4"},Ie={class:"font-medium text-gray-900 truncate"},Ae={class:"text-sm text-gray-500 mt-1"},De={class:"flex items-center justify-between mt-2"},Fe={class:"text-xs text-gray-400"},Le={class:"text-xs text-gray-400"},Te={key:1,class:"bg-white rounded-lg shadow overflow-hidden"},Be={class:"overflow-x-auto"},Ue={class:"min-w-full divide-y divide-gray-200"},$e={class:"bg-white divide-y divide-gray-200"},qe={class:"px-6 py-4 whitespace-nowrap"},Ne={class:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden"},Ge=["src","alt"],Oe={key:1,class:"w-full h-full flex items-center justify-center relative"},He=["src"],Pe=["src"],Ye={class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20"},Ee={class:"px-6 py-4 whitespace-nowrap"},Ke={class:"text-sm font-medium text-gray-900"},We={class:"text-sm text-gray-500"},Je={class:"px-6 py-4 whitespace-nowrap"},Qe={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},Re={class:"px-6 py-4 whitespace-nowrap"},Xe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ze={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},et={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},tt={class:"flex items-center space-x-2"},st=["onClick"],lt=["onClick"],ot={key:2,class:"text-center py-12"},at={class:"mt-6"},rt={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},it={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},nt={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},dt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ct={class:"sm:flex sm:items-start"},ut={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},pt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},ht={class:"mt-2"},gt={class:"text-sm text-gray-500"},xt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Mt=Y({__name:"Media",props:{media:Array,categories:Array,filters:Object},setup($){const q=$,i=E({search:"",category:"",type:"",featured:""}),f=_("grid"),h=_([]),y=_(!1),m=_(null),N=[{value:"",label:"All Categories"},{value:"wedding",label:"Weddings"},{value:"baptism",label:"Baptisms"},{value:"concert",label:"Concerts"},{value:"studio",label:"Studio"},{value:"modelling",label:"Modelling"},{value:"other",label:"Other"}],G=[{value:"",label:"All Types"},{value:"image",label:"Images"},{value:"video",label:"Videos"}],O=[{value:"",label:"All Items"},{value:"1",label:"Featured Only"},{value:"0",label:"Not Featured"}],c=K(()=>{let o=q.media||[];if(i.search){const s=i.search.toLowerCase();o=o.filter(u=>u.title.toLowerCase().includes(s)||u.description.toLowerCase().includes(s))}return i.category&&(o=o.filter(s=>s.category===i.category)),i.type&&(o=o.filter(s=>s.type===i.type)),i.featured!==""&&(o=o.filter(s=>s.is_featured==i.featured)),o}),H=()=>{h.value.length===c.value.length?h.value=[]:h.value=c.value.map(o=>o.id)},I=o=>{m.value=o,y.value=!0},P=()=>{m.value&&i.delete(route("admin.media.destroy",m.value.id),{onSuccess:()=>{y.value=!1,m.value=null}})},A=o=>{i.patch(route("admin.media.update",o.id),{data:{is_featured:!o.is_featured}})},D=o=>{if(o===0)return"0 Bytes";const s=1024,u=["Bytes","KB","MB","GB"],t=Math.floor(Math.log(o)/Math.log(s));return parseFloat((o/Math.pow(s,t)).toFixed(2))+" "+u[t]},F=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(o,s)=>(d(),n(x,null,[a(l(W),{title:"Media Library - Admin"},{default:g(()=>s[10]||(s[10]=[e("meta",{name:"description",content:"Manage your photography media library."},null,-1)])),_:1,__:[10]}),a(Q,null,{default:g(()=>{var u;return[e("div",ee,[e("div",te,[e("div",se,[s[12]||(s[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Media Library"),e("p",{class:"mt-2 text-gray-600"}," Manage your photos and videos. Upload, edit, and organize your media files. ")],-1)),a(l(k),{href:o.route("admin.upload"),class:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"},{default:g(()=>[a(l(z),{class:"w-4 h-4 mr-2"}),s[11]||(s[11]=M(" Upload Media "))]),_:1,__:[11]},8,["href"])])]),e("div",le,[e("div",oe,[e("div",ae,[e("div",re,[a(l(Z),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),C(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l(i).search=t),type:"text",placeholder:"Search media...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white text-gray-900"},null,512),[[J,l(i).search]])]),C(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>l(i).category=t),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white text-gray-900"},[(d(),n(x,null,v(N,t=>e("option",{key:t.value,value:t.value},r(t.label),9,ie)),64))],512),[[S,l(i).category]]),C(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>l(i).type=t),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white text-gray-900"},[(d(),n(x,null,v(G,t=>e("option",{key:t.value,value:t.value},r(t.label),9,ne)),64))],512),[[S,l(i).type]]),C(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>l(i).featured=t),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white text-gray-900"},[(d(),n(x,null,v(O,t=>e("option",{key:t.value,value:t.value},r(t.label),9,de)),64))],512),[[S,l(i).featured]])])])]),e("div",ce,[e("div",ue,[e("p",pe,r(c.value.length)+" item"+r(c.value.length!==1?"s":"")+" found ",1),h.value.length>0?(d(),n("div",he,[e("span",ge,r(h.value.length)+" selected ",1),e("button",{onClick:H,class:"text-sm text-purple-600 hover:text-purple-700"},r(h.value.length===c.value.length?"Deselect All":"Select All"),1)])):w("",!0)]),e("div",xe,[e("button",{onClick:s[4]||(s[4]=t=>f.value="grid"),class:p(["p-2 rounded-lg transition-colors",f.value==="grid"?"bg-purple-100 text-purple-600":"text-gray-400 hover:text-gray-600"])},[a(l(R),{class:"w-5 h-5"})],2),e("button",{onClick:s[5]||(s[5]=t=>f.value="list"),class:p(["p-2 rounded-lg transition-colors",f.value==="list"?"bg-purple-100 text-purple-600":"text-gray-400 hover:text-gray-600"])},[a(l(X),{class:"w-5 h-5"})],2)])]),f.value==="grid"?(d(),n("div",fe,[(d(!0),n(x,null,v(c.value,t=>(d(),n("div",{key:t.id,class:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow"},[e("div",ye,[t.type==="photo"?(d(),n("img",{key:0,src:t.url,alt:t.title,class:"w-full h-full object-cover"},null,8,me)):(d(),n("div",ve,[e("video",{src:t.url,class:"w-full h-full object-cover",preload:"metadata",muted:"",onClick:s[6]||(s[6]=L(()=>{},["stop"]))},[e("source",{src:t.url,type:"video/mp4"},null,8,_e),s[13]||(s[13]=M(" Your browser does not support the video tag. "))],8,be),e("div",we,[a(l(T),{class:"w-8 h-8 text-white"})])])),e("div",ke,[e("div",Me,[e("button",{onClick:j=>A(t),class:p(["p-2 rounded-full text-white transition-colors",t.is_featured?"bg-yellow-500 hover:bg-yellow-600":"bg-gray-600 hover:bg-gray-700"])},[a(l(B),{class:p(["w-4 h-4",t.is_featured?"fill-current":""])},null,8,["class"])],10,Ce),a(l(k),{href:o.route("admin.media.edit",t.id),class:"p-2 bg-blue-500 hover:bg-blue-600 rounded-full text-white transition-colors"},{default:g(()=>[a(l(U),{class:"w-4 h-4"})]),_:2},1032,["href"]),e("button",{onClick:j=>I(t),class:"p-2 bg-red-500 hover:bg-red-600 rounded-full text-white transition-colors"},[a(l(V),{class:"w-4 h-4"})],8,je)])]),t.is_featured?(d(),n("div",Se," Featured ")):w("",!0),e("div",ze,r(t.type),1)]),e("div",Ve,[e("h3",Ie,r(t.title),1),e("p",Ae,r(t.category),1),e("div",De,[e("span",Fe,r(F(t.created_at)),1),e("span",Le,r(D(t.file_size)),1)])])]))),128))])):(d(),n("div",Te,[e("div",Be,[e("table",Ue,[s[15]||(s[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Media "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Title "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Size "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Uploaded "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",$e,[(d(!0),n(x,null,v(c.value,t=>(d(),n("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",qe,[e("div",Ne,[t.type==="photo"?(d(),n("img",{key:0,src:t.url,alt:t.title,class:"w-full h-full object-cover"},null,8,Ge)):(d(),n("div",Oe,[e("video",{src:t.url,class:"w-full h-full object-cover",preload:"metadata",muted:"",onClick:s[7]||(s[7]=L(()=>{},["stop"]))},[e("source",{src:t.url,type:"video/mp4"},null,8,Pe),s[14]||(s[14]=M(" Your browser does not support the video tag. "))],8,He),e("div",Ye,[a(l(T),{class:"w-6 h-6 text-white"})])]))])]),e("td",Ee,[e("div",null,[e("div",Ke,r(t.title),1),e("div",We,r(t.description),1)])]),e("td",Je,[e("span",Qe,r(t.category),1)]),e("td",Re,[e("span",{class:p(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.type==="photo"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"])},r(t.type),3)]),e("td",Xe,r(D(t.file_size)),1),e("td",Ze,r(F(t.created_at)),1),e("td",et,[e("div",tt,[e("button",{onClick:j=>A(t),class:p(["p-1 rounded transition-colors",t.is_featured?"text-yellow-600 hover:text-yellow-700":"text-gray-400 hover:text-gray-600"])},[a(l(B),{class:p(["w-4 h-4",t.is_featured?"fill-current":""])},null,8,["class"])],10,st),a(l(k),{href:o.route("admin.media.edit",t.id),class:"text-blue-600 hover:text-blue-700"},{default:g(()=>[a(l(U),{class:"w-4 h-4"})]),_:2},1032,["href"]),e("button",{onClick:j=>I(t),class:"text-red-600 hover:text-red-700"},[a(l(V),{class:"w-4 h-4"})],8,lt)])])]))),128))])])])])),c.value.length===0?(d(),n("div",ot,[a(l(z),{class:"mx-auto h-12 w-12 text-gray-400"}),s[17]||(s[17]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No media found",-1)),s[18]||(s[18]=e("p",{class:"mt-1 text-sm text-gray-500"}," Try adjusting your search or filter criteria. ",-1)),e("div",at,[a(l(k),{href:o.route("admin.upload"),class:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"},{default:g(()=>[a(l(z),{class:"w-4 h-4 mr-2"}),s[16]||(s[16]=M(" Upload Media "))]),_:1,__:[16]},8,["href"])])])):w("",!0)]),y.value?(d(),n("div",rt,[e("div",it,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:s[8]||(s[8]=t=>y.value=!1)}),e("div",nt,[e("div",dt,[e("div",ct,[e("div",ut,[a(l(V),{class:"h-6 w-6 text-red-600"})]),e("div",pt,[s[19]||(s[19]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"}," Delete Media ",-1)),e("div",ht,[e("p",gt,' Are you sure you want to delete "'+r((u=m.value)==null?void 0:u.title)+'"? This action cannot be undone. ',1)])])])]),e("div",xt,[e("button",{onClick:P,type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Delete "),e("button",{onClick:s[9]||(s[9]=t=>y.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):w("",!0)]}),_:1})],64))}});export{Mt as default};
