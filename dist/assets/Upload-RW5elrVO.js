import{d as R,x as k,r as v,c as n,a as d,b as y,w as F,e as t,u as a,g as W,F as f,m as U,y as C,t as p,k as V,n as _,j as h,v as x,A as H}from"./app-Bpr-Z9gF.js";import{U as D,_ as I}from"./AdminLayout.vue_vue_type_script_setup_true_lang-m5ecvjGb.js";import{V as J}from"./video-8ukofRfL.js";import{c as K}from"./createLucideIcon-DzPYAFwf.js";import{X}from"./x-FtVuPjhG.js";import"./ThemeToggle.vue_vue_type_script_setup_true_lang-CmW87lcJ.js";import"./settings-D0KQ1_ge.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=K("FileIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),Q={class:"max-w-7xl mx-auto"},Y={class:"bg-white rounded-lg shadow p-6 mb-6"},j={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"},O=["onClick"],ee={class:"text-2xl mb-2"},te={class:"text-sm font-medium"},se={class:"bg-white rounded-lg shadow p-6 mb-6"},oe={key:0,class:"mt-6"},le={class:"flex items-center justify-between mb-4"},ae={class:"text-lg font-medium text-gray-900"},re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ie={class:"relative mb-4"},de={class:"aspect-square bg-gray-100 rounded-lg overflow-hidden"},ne=["src","alt"],ue={key:1,class:"w-full h-full flex items-center justify-center"},ce=["onClick"],pe={class:"space-y-3"},ge=["onUpdate:modelValue"],me=["onUpdate:modelValue"],ve=["onUpdate:modelValue"],ye={class:"flex items-center justify-between"},he={class:"flex items-center space-x-4"},fe={class:"flex items-center"},_e=["onUpdate:modelValue"],xe={class:"text-xs text-gray-500"},be={class:"bg-white rounded-lg shadow p-6"},we={class:"flex items-center justify-between"},ke={class:"text-sm text-gray-600"},Fe={key:0},Ue={key:1},Ce=["disabled"],Ve={key:1},De={key:2},Ee=R({__name:"Upload",setup(Me){const l=k({files:[],category:"",titles:{},descriptions:{},alt_texts:{},is_featured:{},sort_orders:{}}),u=v(!1),m=v(!1),r=v([]),c=v({}),M=[{value:"wedding",label:"Weddings",icon:"ðŸ’’"},{value:"baptism",label:"Baptisms",icon:"ðŸ‘¶"},{value:"concert",label:"Concerts",icon:"ðŸŽµ"},{value:"studio",label:"Studio",icon:"ðŸ“¸"},{value:"modelling",label:"Modelling",icon:"ðŸ‘—"},{value:"other",label:"Other",icon:"ðŸ“"}],g={images:["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp","image/tiff"],videos:["video/mp4","video/avi","video/mov","video/wmv","video/flv","video/webm","video/mkv"]},S=o=>{const e=Array.from(o.target.files);b(e)},B=o=>{o.preventDefault(),m.value=!1;const e=Array.from(o.dataTransfer.files);b(e)},A=o=>{o.preventDefault(),m.value=!0},T=o=>{o.preventDefault(),m.value=!1},b=o=>{o.forEach(e=>{if(z(e)){const s=N();if(r.value.push({id:s,file:e,name:e.name,size:e.size,type:P(e),preview:null}),g.images.includes(e.type)){const i=new FileReader;i.onload=q=>{c.value[s]=q.target.result},i.readAsDataURL(e)}l.titles[s]=w(e.name),l.descriptions[s]="",l.alt_texts[s]=w(e.name),l.is_featured[s]=!1,l.sort_orders[s]=r.value.length}})},z=o=>[...g.images,...g.videos].includes(o.type),P=o=>g.images.includes(o.type)?"image":g.videos.includes(o.type)?"video":"unknown",N=()=>"file_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),w=o=>o.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ").replace(/\b\w/g,e=>e.toUpperCase()),E=o=>{const e=r.value.findIndex(s=>s.id===o);e>-1&&(r.value.splice(e,1),delete c.value[o],delete l.titles[o],delete l.descriptions[o],delete l.alt_texts[o],delete l.is_featured[o],delete l.sort_orders[o])},G=o=>{if(o===0)return"0 Bytes";const e=1024,s=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(o)/Math.log(e));return parseFloat((o/Math.pow(e,i)).toFixed(2))+" "+s[i]},L=()=>{if(!l.category){alert("Please select a category");return}if(r.value.length===0){alert("Please select files to upload");return}u.value=!0;const o=k({category:l.category,files:[],titles:{},descriptions:{},alt_texts:{},is_featured:{},sort_orders:{}});r.value.forEach((e,s)=>{o.files.push(e.file),o.titles[s]=l.titles[e.id]||"",o.descriptions[s]=l.descriptions[e.id]||"",o.alt_texts[s]=l.alt_texts[e.id]||"",o.is_featured[s]=l.is_featured[e.id]?"1":"0",o.sort_orders[s]=l.sort_orders[e.id]||s}),o.post(route("admin.media.store"),{onSuccess:()=>{r.value=[],c.value={},l.reset(),u.value=!1},onError:()=>{u.value=!1}})},$=()=>{r.value=[],c.value={},l.reset()};return(o,e)=>(d(),n(f,null,[y(a(W),{title:"Upload Media - Admin"},{default:F(()=>e[0]||(e[0]=[t("meta",{name:"description",content:"Upload photos and videos to your photography website."},null,-1)])),_:1,__:[0]}),y(I,null,{default:F(()=>[t("div",Q,[e[10]||(e[10]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"Upload Media"),t("p",{class:"mt-2 text-gray-600"}," Upload photos and videos to your gallery. Select a category and add your media files. ")],-1)),t("div",Y,[e[1]||(e[1]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Select Category",-1)),t("div",j,[(d(),n(f,null,U(M,s=>t("button",{key:s.value,onClick:i=>a(l).category=s.value,class:C(["flex flex-col items-center p-4 rounded-lg border-2 transition-all duration-200",a(l).category===s.value?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300 text-gray-700 hover:bg-gray-50"])},[t("span",ee,p(s.icon),1),t("span",te,p(s.label),1)],10,O)),64))])]),t("div",se,[e[9]||(e[9]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Upload Files",-1)),t("div",{onDrop:B,onDragover:A,onDragleave:T,class:C(["border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200",m.value?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-gray-400"])},[y(a(D),{class:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e[2]||(e[2]=t("p",{class:"text-lg font-medium text-gray-900 mb-2"}," Drop files here or click to browse ",-1)),e[3]||(e[3]=t("p",{class:"text-gray-600 mb-4"}," Support for JPG, PNG, GIF, WebP, MP4, AVI, MOV and more ",-1)),t("input",{type:"file",multiple:"",accept:"image/*,video/*",onChange:S,class:"hidden",id:"file-input"},null,32),e[4]||(e[4]=t("label",{for:"file-input",class:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors cursor-pointer"}," Choose Files ",-1))],34),r.value.length>0?(d(),n("div",oe,[t("div",le,[t("h3",ae," Selected Files ("+p(r.value.length)+") ",1),t("button",{onClick:$,class:"text-red-600 hover:text-red-700 text-sm font-medium"}," Clear All ")]),t("div",re,[(d(!0),n(f,null,U(r.value,s=>(d(),n("div",{key:s.id,class:"border border-gray-200 rounded-lg p-4"},[t("div",ie,[t("div",de,[c.value[s.id]?(d(),n("img",{key:0,src:c.value[s.id],alt:s.name,class:"w-full h-full object-cover"},null,8,ne)):(d(),n("div",ue,[s.type==="video"?(d(),_(a(J),{key:0,class:"w-12 h-12 text-gray-400"})):(d(),_(a(Z),{key:1,class:"w-12 h-12 text-gray-400"}))]))]),t("button",{onClick:i=>E(s.id),class:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors"},[y(a(X),{class:"w-4 h-4"})],8,ce)]),t("div",pe,[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Title ",-1)),h(t("input",{"onUpdate:modelValue":i=>a(l).titles[s.id]=i,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white text-gray-900"},null,8,ge),[[x,a(l).titles[s.id]]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Description ",-1)),h(t("textarea",{"onUpdate:modelValue":i=>a(l).descriptions[s.id]=i,rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none bg-white text-gray-900"},null,8,me),[[x,a(l).descriptions[s.id]]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Alt Text ",-1)),h(t("input",{"onUpdate:modelValue":i=>a(l).alt_texts[s.id]=i,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white text-gray-900"},null,8,ve),[[x,a(l).alt_texts[s.id]]])]),t("div",ye,[t("div",he,[t("label",fe,[h(t("input",{"onUpdate:modelValue":i=>a(l).is_featured[s.id]=i,type:"checkbox",class:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"},null,8,_e),[[H,a(l).is_featured[s.id]]]),e[8]||(e[8]=t("span",{class:"ml-2 text-sm text-gray-700"},"Featured",-1))])]),t("div",xe,p(G(s.size)),1)])])]))),128))])])):V("",!0)]),t("div",be,[t("div",we,[t("div",null,[t("p",ke,[r.value.length>0?(d(),n("span",Fe," Ready to upload "+p(r.value.length)+" file"+p(r.value.length>1?"s":""),1)):(d(),n("span",Ue,"No files selected"))])]),t("button",{onClick:L,disabled:!a(l).category||r.value.length===0||u.value,class:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[u.value?V("",!0):(d(),_(a(D),{key:0,class:"w-5 h-5 mr-2"})),u.value?(d(),n("span",Ve,"Uploading...")):(d(),n("span",De,"Upload Files"))],8,Ce)])])])]),_:1})],64))}});export{Ee as default};
